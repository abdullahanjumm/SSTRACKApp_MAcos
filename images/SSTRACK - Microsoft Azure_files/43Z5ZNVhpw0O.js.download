define("@microsoft/azureportal-reactview/Css",["require","exports"],(function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.CSSClasses=void 0,function(e){e.NoDefaultPadding="reactview-nodefaultpadding",e.FullRootHeight="reactview-fullheight",e.NestedResource="reactview-nestedresource",e.InlineIcon="reactview-inlineicon",e.FormLabel="reactview-form-layout-label",e.FormElement="reactview-form-element",e.FormWidth="reactview-form-width",e.Padding="reactview-padding",e.NoPrint="reactview-noprint",e.FormLayoutWidth="reactview-form-layout-width",e.FormLayoutElement="reactview-form-layout-element"}(n||(t.CSSClasses=n={}))})),
define("@microsoft/azureportal-reactview/internal/Creapi",["require","exports","@microsoft/azureportal-reactview/internal/DynamicReact","@microsoft/azureportal-reactview/Az","@microsoft/azureportal-reactview/internal/ContextUtilities","lodash","_oss/@hookstate/core"],(function(e,t,n,o,a,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useTriggerCustomizer=t.useDiagnostics=t.useId=t.useCustomizationState=t.localStateSelector=t.getNodeType=t.createNode=t.CustomizationState=void 0;const s={Customizations:"customizations",Value:"value"},u=Symbol("internals"),c=(0,a.createContext)(void 0,"CreapiRootContext"),l=(0,a.createContext)({id:"",state:null},"CreapiComponentContext"),d=e=>{const{children:t,id:o,state:a}=e,r=n.default.useMemo((()=>({id:o,state:a})),[o,a]);return n.default.createElement(l.Provider,{value:r},t)},m=e=>{const{children:t,onChange:o}=e,a=n.default.useMemo((()=>({onChange:o})),[o]);return n.default.createElement(c.Provider,{value:a},t)},p=(e,t,n,o,a,r,i)=>{if(Array.isArray(t))n[e]=t.reduce(((t,n)=>{if(function(e){return"staticValue"in e}(n))return t.concat(n.staticValue);const s=P(n,o.nested(e),a,r.get(),i.get().value);return t.concat(s)}),[]);else{const s=P(t,o.nested(e),a,r.get(),i.get().value);void 0!==s&&(n[e]=s)}},f=(e,t,o,a,r,i)=>{const s=e=>(t,n)=>{r.merge({value:n}),o?.(i.get()),e?.(t,n),a(!0)};if(t){const t=e.onChange;e.onChange=n.default.useCallback(s(t),[o,t])}else{const t=e.props.onChange;e.props.onChange=n.default.useCallback(s(t),[o,t])}},g=e=>{const t=e.metadata,o=(0,i.useHookstate)(e.subState),a=(0,i.useHookstate)(e.globalState),r=((e,t,o,a,r)=>{const[u,l]=n.default.useState(!1),{onChange:d}=n.default.useContext(c),m=(0,i.useHookstate)(a.nested(s.Customizations)),g={...e.static,props:{}};return Object.entries(e.dynamic).forEach((([e,t])=>{p(e,t,g,m,u,r,a)})),Object.entries(t).forEach((([e,t])=>{g[e]={...t.static},Object.entries(t.dynamic).forEach((([t,n])=>{p(t,n,g[e],m.nested(e),u,r,a)}))})),f(g,o,d,l,a,r),g})(t.props,t.nestedProps,t.root,o,a),u=n.default.useMemo((()=>t.children.map((t=>n.default.createElement(g,{key:t.id,metadata:t,subState:o.nested(t.id),globalState:e.globalState})))),[t,e.globalState,o]);return n.default.createElement(n.default.Fragment,null,n.default.createElement(d,{id:t.parentId?`${t.parentId}.${t.id}`:t.id,state:o},u.length?n.default.createElement(t.component,{...r},u):n.default.createElement(t.component,{...r})))};var C;function h(){const{id:e}=n.default.useContext(l);return e}function v(e,t,a,c,l,d,p,f,C,h,y,b){return{add:(0,r.merge)({},...Object.entries(e).map((([n,o])=>({[n]:(i,m)=>{const g=k(i,a.join("."),o.wrapper(m??o.defaultComponent),n);l.children.push(g),(0,r.set)(t,[...a,i],Object.keys(o.childNodes).length>0?{}:{[s.Value]:null,[s.Customizations]:{}}),o.singleton&&delete e[n];const z=E(e,a,d,p,f,l,h,b);return a.length&&(0,r.set)(C,[p,...a,u],z),y[[...a,i].join(".")]={type:n,componentName:m?m.displayName||m.name||"unknown":"default",customizations:{}},v(o.childNodes,t,[...a,i],c,g,{},n,w(f,n,z),C,o.skipCustomizer,y,o.customizerOptions)}})))),customize:z(e,t,a,c,l,d,p,f,C,h,y,b),seal:(0,r.merge)({},...Object.entries(f).map((([s,w])=>({[s]:w?()=>{const n=E(e,a,d,p,f,l,h,b);return a.length&&(0,r.set)(C,[p,...a,u],n),v(w.childNodes,t,w.ids,c,w.currentComponent,w.currentState,w.currentNodeId,w.seals,C,w.skipCustomizerTillOnChange,y,w.customizerOptions)}:()=>{const e=(0,i.hookstate)(t);return({onChange:t,...a})=>(n.default.useEffect((()=>{(0,o.trace)([{action:"BuilderLoad",source:"Creapi",timestamp:Date.now(),data:{type:s,components:y}}])}),[]),n.default.useEffect((()=>{e.nested("props").merge(a)}),[a]),n.default.createElement(m,{onChange:t},n.default.createElement(g,{key:c.id,metadata:c,subState:e,globalState:e})))}})))),unseal:S(C,t,c,y),define:{prop:(n,o)=>((0,r.set)(t,["props",n],o),v(e,t,a,c,l,d,p,f,C,h,y,b))}}}function y(e,t,n,o,a,i){return{add:{child:(r,s)=>y(e,w(t,r.id,{...r,singleton:s}),n,o,a,i)},register:{wrapper:(n,o,r)=>y(e,t,n,o??[],a,r??{}),defaultComponent:a=>y(e,t,n,o,a,i)},seal:()=>({id:e,childNodes:t,wrapper:n,skipCustomizer:o,defaultComponent:a,customizerOptions:i}),toBuilder:()=>()=>{const o=k(e,"",n(void 0),e,!0);return v((0,r.cloneDeep)(t),{},[],o,o,{},e,w({},e,void 0),{},[],{"":{type:e,componentName:"default",customizations:{}}},i)}}}function w(e,t,n){return{...e,[t]:n}}function z(e,t,n,o,a,i,u,c,l,d,m,p){const f=g=>({get(C,h){if(!g&&("props"===h||h.endsWith("Props")))return new Proxy({},f(h));const y=function(e,t,n){return[...e,s.Customizations,...n?[n]:[],t]}(n,h,g),w=O(h,g);return{static:s=>(N(a,g).static[h]=s,(0,r.set)(t,y,{value:s,state:2}),m[n.join(".")].customizations[w]={type:"static"},v(e,t,n,o,a,i,u,c,l,d,m,p)),dynamic:(s,f,C)=>{const z=(0,r.get)(t,y),b=N(a,g).dynamic,S={selector:s,execFn:f,initialValue:C,skipTillOnChange:d.includes(h),deferredTime:p[h]?.deferredTime};if(z){const e=b[h];b[h]=e?Array.isArray(e)?[...e,S]:[e,S]:[{staticValue:z.value},S],C?z.value=Array.isArray(z.value)?z.value.concat(C):[z.value].concat(C):z.state=0}else b[h]=S,(0,r.set)(t,y,C?{value:C,state:2}:{value:void 0,state:0});return m[n.join(".")].customizations[w]={type:"dynamic"},v(e,t,n,o,a,i,u,c,l,d,m,p)}}}});return new Proxy({},f())}function b(e,t,n,o,a,r){return new Proxy({},{get(i,s){if(s in e){const i=e[s],c=i[u];return c?()=>v(c.childNodes,t,c.ids,n,c.currentComponent,c.currentState,c.currentNodeId,c.seals,o,c.skipCustomizerTillOnChange,a,c.customizerOptions):b(i,t,n,o,a,O(s,r))}throw new Error(`Could not find ${O(s,r)} node to unseal.`)}})}function S(e,t,n,o){return new Proxy({},{get(a,r){if(r in e)return b(e[r],t,n,e,o);throw new Error(`Could not find ${r} node level to unseal. Available node levels for unseal: ${Object.keys(e).join(", ")}.`)}})}function O(e,t){return t?`${t}.${e}`:e}function k(e,t,n,o,a){return{id:e,parentId:t,component:n,type:o,children:[],props:{static:{},dynamic:{}},nestedProps:{},root:a}}function E(e,t,n,o,a,r,i,s){return{childNodes:e,ids:t,currentState:n,currentNodeId:o,seals:a,currentComponent:r,skipCustomizerTillOnChange:i,customizerOptions:s}}function N(e,t){return t?e.nestedProps[t]??={static:{},dynamic:{}}:e.props}function P(e,t,o,a,i){const[s,u]=n.default.useState(e.initialValue),c=t.nested("bypassOnChange").get(),l=e.selector(a,i),d=(0,r.isPlainObject)(l)?Object.values(l):[l];return n.default.useEffect((()=>{let n,a=!0;if(!e.skipTillOnChange||o||c){t.merge({state:1});const o=async()=>{const n=await e.execFn(l);a&&(u((()=>n)),t.merge({value:n,state:2}))};e.deferredTime?n=setTimeout(o,e.deferredTime):o()}return()=>{a=!1,n&&clearTimeout(n)}}),e.skipTillOnChange?[...d,o,c]:d),s}!function(e){e[e.Pending=0]="Pending",e[e.Running=1]="Running",e[e.Done=2]="Done"}(C||(t.CustomizationState=C={})),t.createNode=function(e){return y(e,{},void 0,[],void 0,{})},t.getNodeType=function(e){if(n.default.isValidElement(e)&&e.type===g)return e.props.metadata.type},t.localStateSelector=function(e,t){return t},t.useCustomizationState=function(e){const{state:t}=n.default.useContext(l),o=(0,i.useHookstate)(t.nested(s.Customizations).nested(e));return o.get()?.state},t.useId=h,t.useDiagnostics=function(){const e=h();return{trace:t=>{(0,o.trace)(t.map((t=>({...t,source:e,timestamp:t.timestamp??Date.now()}))))},log:t=>{(0,o.log)(t.map((t=>({...t,area:e,timestamp:t.timestamp??Date.now()}))))}}},t.useTriggerCustomizer=function(e){const{state:t}=n.default.useContext(l),o=(0,i.useHookstate)(t.nested(s.Customizations).nested(e));return()=>{o.get()&&o.merge({bypassOnChange:!0})}}}));