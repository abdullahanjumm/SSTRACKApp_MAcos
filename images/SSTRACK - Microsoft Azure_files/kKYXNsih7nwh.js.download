define("@microsoft/azureportal-reactview/internal/LinkUtils",["require","exports","@microsoft/azureportal-reactview/internal/ReactView"],(function(e,n,t){"use strict";var r,o;Object.defineProperty(n,"__esModule",{value:!0}),n.getViewUrl=void 0,n.getViewUrl=function(e,n){const r=t.ReactView.getInstance().getPortalUri(),o=t.ReactView.getInstance().getHashQueryString(),a=new URL(r),i=function(e,n){let t="";return e&&Object.entries(e).forEach((([e,r])=>{if("editScopeId"!==e)if(n){if("~"===e.slice(-1))throw new Error(`UnableToSerializeInputKey: ${e}`);let n,o;const a=function(e){let n=typeof e;"object"===n&&(null===e?n="null":Array.isArray(e)?n="array":e instanceof Date?n="date":e instanceof RegExp&&(n="regexp"));return n}(r);switch(a){case"string":o="",n=r;break;case"null":case"number":case"boolean":case"array":case"object":o="~";try{n=JSON.stringify(r)}catch(e){throw new Error(`UnableToSerializeInputJSONStringifyFailed: ${JSON.stringify(e.message)}`)}break;case"undefined":break;case"date":throw new Error("UnableToSerializeInputTypeDate: The input model contains a Date object which cannot be serialized in a roundtrippable way from Fx. A future upgrade will JSON stringify this input and the resulting deep link may not be navigable reliably. If using Date object to navigate to content, serialize the Date as part of the input model using the `toISOString()` method and parse this value on the initialization phase of the content.");default:throw new Error(`UnableToSerializeInputTypeOther: ${a}`)}void 0!==n&&void 0!==o&&(t+=`/${encodeURIComponent(e)}${o}/${encodeURIComponent(n)}`)}else r&&"object"==typeof r&&(r=JSON.stringify(r)),void 0!==r&&(0===r&&(r="0"),t+=`/${encodeURIComponent(e)}/${encodeURIComponent(r||"")}`)})),t}(e.parameters,n);if(a.hash=`#${n?"view":"blade"}/${e.extensionName}/${e.bladeName}${i}${o}`,a.href.length>1e6)throw new Error("InputsExceedUrlLength of 1000000");return a.toString()},function(e){e[e.MaxUrlLength=1e6]="MaxUrlLength"}(r||(r={})),function(e){e.JSON="~",e.Plain=""}(o||(o={}))})),
define("@microsoft/azureportal-reactview/Navigation",["require","exports","react","@microsoft/azureportal-reactview/Az","@microsoft/azureportal-reactview/ResourceManagement","@microsoft/azureportal-reactview/internal/ReactView","@microsoft/azureportal-reactview/Environment","@microsoft/azureportal-reactview/Experimentation","@microsoft/azureportal-reactview/internal/LinkUtils"],(function(e,n,t,r,o,a,i,s,l){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.toggleFullScreen=n.menuBlade=n.closeContextBlade=n.closeChildBlade=n.openContextPane=n.openBlade=n.isMinimized=n.getRecentBlades=n.navigateToDeepLink=n.toggleSideBar=n.navigateToDashboard=n.navigateToHome=n.executeInCloudShell=n.openHelpPane=n.useSideBarLayoutMode=n.useDeepLink=n.addDeepLinkChangeListener=n.getCurrentDeepLink=n.hasMenuItem=n.sanitizeLink=n.handleTagsContextPaneResults=n.getMoveLocationBladeReference=n.getMoveResourceBladeReference=n.getEditTagsBladeReference=n.getTagsBladeReference=n.getResourceBladeReference=n.getAutomationBladeReference=n.getArmErrorsBladeReference=n.getBladeLink=n.MoveType=n.BladeReference=n.TroubleshootingLinks=n.BladeReferences=n.BladeClosedReason=n.HelpPaneState=void 0,n.HelpPaneState=r.HelpPaneState,n.BladeClosedReason=r.BladeClosedReason;const c=__InternalAzurePortal.AzInternalApi.internalApi,u=()=>(0,i.getEnvironmentValue)("extensionName");var d,p;n.BladeReferences={forBlade:e=>v(u(),e),forMenuBlade:(e,n,t)=>B(u(),e,n,t),forMarketplace:()=>v("",""),forCreateAssetType:()=>v("",""),forExtension:e=>({forBlade:n=>v(e,n),forMenuBlade:(n,t,r)=>B(e,n,t,r)})},function(e){e[e.CommonDeploymentErrors=0]="CommonDeploymentErrors",e[e.ResourceMoveDocs=1]="ResourceMoveDocs",e[e.CreateArmTemplateDocs=2]="CreateArmTemplateDocs"}(d||(n.TroubleshootingLinks=d={}));function f(){return c.getCurrentDeepLink()}function g(e){return c.addDeepLinkEventHandler(e)}n.BladeReference=class{},function(e){e[e.Subscription=0]="Subscription",e[e.ResourceGroup=1]="ResourceGroup",e[e.SubscriptionAndResourceGroup=3]="SubscriptionAndResourceGroup",e[e.None=4]="None"}(p||(n.MoveType=p={})),n.getBladeLink=function(e){return s.shellAssignments.getBooleanValue("bladeLinkIframeExperimentEnabled")?Promise.resolve((0,l.getViewUrl)(e,!1)):c.getBladeLink({bladeReference:{...e,onClosed:void 0}})},n.getArmErrorsBladeReference=function(e){return c.getArmErrorsBladeReference(e)},n.getAutomationBladeReference=function(e){return c.getAutomationBladeReference(e)},n.getResourceBladeReference=function(e,n){return c.getResourceBladeReference({resourceId:e,resourceKind:n})},n.getTagsBladeReference=function(e){return c.getTagsBladeReference(e)},n.getEditTagsBladeReference=function(e,n){return c.getEditTagsBladeReference({resourceId:e,tagName:n.tagName}).then((e=>(e.onClosed=n.onClosed,e)))},n.getMoveResourceBladeReference=function(e,n){const t=(0,i.isFeatureEnabled)("moveresourcesreact"),r=(0,i.isFeatureEnabled)("resourcesextmoveresources"),o=t?"MoveResources.ReactView":"MoveResourceBlade",a=t&&r?"Microsoft_Azure_Resources":"HubsExtension";return Promise.resolve({bladeName:o,extensionName:a,parameters:{resourceId:e,moveType:n}})},n.getMoveLocationBladeReference=function(e,n){if(0===e.length)throw new Error("You must specify at least one resource to move");const t=o.ArmId.parse(e[0],!0).subscription,r=e.find((e=>o.ArmId.parse(e,!0).subscription!==t));if(r)throw new Error(`All resources must have the same subscriptionId ${r} did not match ${t}`);return c.getMoveLocationBladeReference({resourceIds:e,sourceRegion:n,subscriptionId:t})},n.handleTagsContextPaneResults=function(e,n){const t=new Map;return t.set(e,JSON.parse(n)),c.handleTagsContextPaneResults({resourceId:e,resourceToTagsMap:t})},n.sanitizeLink=function(e){return __InternalAzurePortal.AzInternalApi.internalApi.sanitizeReactLink({uri:e}).then((e=>e.uri))},n.hasMenuItem=function(e){return c.hasMenuItem(e)},n.getCurrentDeepLink=f,n.addDeepLinkChangeListener=g;let m=null;n.useDeepLink=function(){let e=null;null===m&&(e=c.getInitialDeepLink(),m="string"==typeof e?e:"");const[n,r]=t.useState(m);return t.useEffect((()=>{const n=e=>{e!==m&&(m=e,r(m))};return e instanceof Promise?e.then(n):f().then(n),g(n)}),[]),n};let R=null;function v(e,n){return{createReference:function(t){if(t){const{marketplaceId:r,marketplaceOptions:o,doesProvisioning:a,assetType:i,assetKind:s,telemetryId:l}=t;if(r||o||a||i)return{bladeName:n,extensionName:e,parameters:t.parameters,onClosed:t.onClosed,marketplaceId:r,telemetryId:l,marketplaceOptions:o,createAssetType:i,createAssetKind:s,referenceType:3};if(t.supplyInitialData||t.supplyProviderConfig||t.receiveResult)return{bladeName:n,extensionName:e,parameters:t.parameters,onClosed:t.onClosed,supplyInitialData:t.supplyInitialData,supplyProviderConfig:t.supplyProviderConfig,receiveResult:t.receiveResult,referenceType:1}}return{referenceType:0,extensionName:e,bladeName:n,parameters:t?.parameters,onClosed:t?.onClosed}}}}function B(e,n,t,r){return{createReference:function(o){return{extensionName:e,bladeName:n,parameters:o?.parameters,onClosed:o?.onClosed,referenceType:2,menuId:t,contentBladeReference:r}}}}n.useSideBarLayoutMode=function(){let e=null;null===R&&(e=c.getLatestSideBarLayoutMode(),R="number"==typeof e?e:0);const[n,r]=t.useState(R);return t.useEffect((()=>{const n=e=>{e!==R&&(R=e,r(R))};return e instanceof Promise?e.then(n):n(e),c.addSideBarLayoutModeEventHandler(n)}),[]),n},n.openHelpPane=function(e){return c.openHelpPane(e)},n.executeInCloudShell=function(e,...n){const t="string"==typeof e?{cliType:e}:e;return c.executeInCloudShell({options:t,commands:n})},n.navigateToHome=function(){c.navigateToHome()},n.navigateToDashboard=function(e){r.navigateToDashboard(e)},n.toggleSideBar=function(){c.toggleSideBar()},n.navigateToDeepLink=function(e){c.navigateToDeepLink(e)},n.getRecentBlades=function(){return c.getRecentBlades()},n.isMinimized=function(){return a.ReactView.getInstance(!0).getIsMinimized()},n.openBlade=function(e,n){return r.openBlade(e,n)},n.openContextPane=function(e){return r.openContextPane(e)},n.closeChildBlade=function(){return r.closeChildBlade()},n.closeContextBlade=function(){return r.closeContextBlade()},n.menuBlade=r.menuBlade,n.toggleFullScreen=function(){c.toggleFullScreen()},delete n.menuBlade,Object.defineProperty(n,"menuBlade",{get:()=>r.menuBlade})}));